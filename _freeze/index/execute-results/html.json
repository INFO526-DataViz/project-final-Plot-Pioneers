{
  "hash": "1f174021eef7595e0e32324c9784f3ef",
  "result": {
    "markdown": "---\ntitle: \"World Happiness Report\"\nsubtitle: \"A Journey through World Happiness:)\"\nauthor: \"Plot Pioneers\"\nformat: html\neditor: visual\n---\n\n\n## Abstract\n\nAdd project abstract here.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load necessary libraries\nlibrary(dplyr)\n\n# Read the 2015 dataset\ndf_2015 <- read.csv('data/2015.csv')\n\n# Select only the Country and Region columns and remove duplicates\ncountries_aggregated <- df_2015 %>% \n  select(Country, Region) %>% \n  distinct()\n\n# Save this new dataset to a CSV file\nwrite.csv(countries_aggregated, 'data/countries_aggregated.csv', row.names = FALSE)\n\n# Create a mapping of countries to regions\ncountry_region_map <- df_2015 %>% select(Country, Region) %>% unique()\n\n# Read the combined dataset\ndf_combined <- read.csv('data/happiness_all_years_df.csv')\n\n# Add the 'Region' column to the combined dataset\ndf_combined <- df_combined %>% \n               left_join(country_region_map, by = \"Country\")\n\ndf_combined <- df_combined %>% select(-1)\n\n# Check the first few rows of the updated combined dataset\nhead(df_combined)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n      Country Happiness.Rank Happiness.Score GDP.per.Capita  Family\n1 Switzerland              1           7.587        1.39651 1.34951\n2     Iceland              2           7.561        1.30232 1.40223\n3     Denmark              3           7.527        1.32548 1.36058\n4      Norway              4           7.522        1.45900 1.33095\n5      Canada              5           7.427        1.32629 1.32261\n6     Finland              6           7.406        1.29025 1.31826\n  Health..Life.Expectancy. Freedom Trust..Government.Corruption. Generosity\n1                  0.94143 0.66557                       0.41978    0.29678\n2                  0.94784 0.62877                       0.14145    0.43630\n3                  0.87464 0.64938                       0.48357    0.34139\n4                  0.88521 0.66973                       0.36503    0.34699\n5                  0.90563 0.63297                       0.32957    0.45811\n6                  0.88911 0.64169                       0.41372    0.23351\n  Dystopia.Residual Year         Region\n1           2.51738 2015 Western Europe\n2           2.70201 2015 Western Europe\n3           2.49204 2015 Western Europe\n4           2.46531 2015 Western Europe\n5           2.45176 2015  North America\n6           2.61955 2015 Western Europe\n```\n:::\n\n```{.r .cell-code}\n# Save the updated combined dataset\nwrite.csv(df_combined, 'data/updated_happiness_all_years.csv', row.names = FALSE)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#2015\n\ncl_2015 <- read.csv('data/cleaned_2015_df.csv')\n\ncl_2015 <- cl_2015 %>% \n                 left_join(country_region_map, by = \"Country\")\n\n#cl_2015 <- cl_2015 %>% select(-1)\n\nhead(cl_2015)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n      Country Happiness.Rank Happiness.Score Economy  Family  Health Freedom\n1 Switzerland              1           7.587 1.39651 1.34951 0.94143 0.66557\n2     Iceland              2           7.561 1.30232 1.40223 0.94784 0.62877\n3     Denmark              3           7.527 1.32548 1.36058 0.87464 0.64938\n4      Norway              4           7.522 1.45900 1.33095 0.88521 0.66973\n5      Canada              5           7.427 1.32629 1.32261 0.90563 0.63297\n6     Finland              6           7.406 1.29025 1.31826 0.88911 0.64169\n  Government.Corruption Generosity Dystopia.Residual Year         Region\n1               0.41978    0.29678           2.51738 2015 Western Europe\n2               0.14145    0.43630           2.70201 2015 Western Europe\n3               0.48357    0.34139           2.49204 2015 Western Europe\n4               0.36503    0.34699           2.46531 2015 Western Europe\n5               0.32957    0.45811           2.45176 2015  North America\n6               0.41372    0.23351           2.61955 2015 Western Europe\n```\n:::\n\n```{.r .cell-code}\n# Save the updated combined dataset\nwrite.csv(cl_2015, 'data/happiness_2015_clean.csv', row.names = FALSE)\n\n#2016\n\ncl_2016 <- read.csv('data/cleaned_2016_df.csv')\n\ncl_2016 <- cl_2016 %>% \n                 left_join(country_region_map, by = \"Country\")\n\n#cl_2016 <- cl_2016 %>% select(-1)\n\nhead(cl_2016)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n      Country Happiness.Rank Happiness.Score Economy  Family  Health Freedom\n1     Denmark              1           7.526 1.44178 1.16374 0.79504 0.57941\n2 Switzerland              2           7.509 1.52733 1.14524 0.86303 0.58557\n3     Iceland              3           7.501 1.42666 1.18326 0.86733 0.56624\n4      Norway              4           7.498 1.57744 1.12690 0.79579 0.59609\n5     Finland              5           7.413 1.40598 1.13464 0.81091 0.57104\n6      Canada              6           7.404 1.44015 1.09610 0.82760 0.57370\n  Government.Corruption Generosity Dystopia.Residual Year         Region\n1               0.44453    0.36171           2.73939 2016 Western Europe\n2               0.41203    0.28083           2.69463 2016 Western Europe\n3               0.14975    0.47678           2.83137 2016 Western Europe\n4               0.35776    0.37895           2.66465 2016 Western Europe\n5               0.41004    0.25492           2.82596 2016 Western Europe\n6               0.31329    0.44834           2.70485 2016  North America\n```\n:::\n\n```{.r .cell-code}\n# Save the updated combined dataset\nwrite.csv(cl_2016, 'data/happiness_2016_clean.csv', row.names = FALSE)\n\n\n\n#2017\n\n\ncl_2017 <- read.csv('data/cleaned_2017_df.csv')\n\ncl_2017 <- cl_2017 %>% \n                 left_join(country_region_map, by = \"Country\")\n\n#cl_2017 <- cl_2017 %>% select(-1)\nhead(cl_2017)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n      Country Happiness.Rank Happiness.Score  Economy   Family    Health\n1      Norway              1           7.537 1.616463 1.533524 0.7966665\n2     Denmark              2           7.522 1.482383 1.551122 0.7925655\n3     Iceland              3           7.504 1.480633 1.610574 0.8335521\n4 Switzerland              4           7.494 1.564980 1.516912 0.8581313\n5     Finland              5           7.469 1.443572 1.540247 0.8091577\n6 Netherlands              6           7.377 1.503945 1.428939 0.8106961\n    Freedom Generosity Government.Corruption Dystopia.Residual Year\n1 0.6354226  0.3620122             0.3159638          2.277027 2017\n2 0.6260067  0.3552805             0.4007701          2.313707 2017\n3 0.6271626  0.4755402             0.1535266          2.322715 2017\n4 0.6200706  0.2905493             0.3670073          2.276716 2017\n5 0.6179509  0.2454828             0.3826115          2.430182 2017\n6 0.5853845  0.4704898             0.2826618          2.294804 2017\n          Region\n1 Western Europe\n2 Western Europe\n3 Western Europe\n4 Western Europe\n5 Western Europe\n6 Western Europe\n```\n:::\n\n```{.r .cell-code}\n# Save the updated combined dataset\nwrite.csv(cl_2017, 'data/happiness_2017_clean.csv', row.names = FALSE)\n\n\n#2018\n\n\ncl_2018 <- read.csv('data/cleaned_2018_df.csv')\n\ncl_2018 <- cl_2018 %>% \n                 left_join(country_region_map, by = \"Country\")\n#cl_2018 <- cl_2018 %>% select(-1)\nhead(cl_2018)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  Happiness.Rank     Country Happiness.Score Economy Family Health Freedom\n1              1     Finland           7.632   1.305  1.592  0.874   0.681\n2              2      Norway           7.594   1.456  1.582  0.861   0.686\n3              3     Denmark           7.555   1.351  1.590  0.868   0.683\n4              4     Iceland           7.495   1.343  1.644  0.914   0.677\n5              5 Switzerland           7.487   1.420  1.549  0.927   0.660\n6              6 Netherlands           7.441   1.361  1.488  0.878   0.638\n  Generosity Government.Corruption Dystopia.Residual Year         Region\n1      0.202                 0.393                NA 2018 Western Europe\n2      0.286                 0.340                NA 2018 Western Europe\n3      0.284                 0.408                NA 2018 Western Europe\n4      0.353                 0.138                NA 2018 Western Europe\n5      0.256                 0.357                NA 2018 Western Europe\n6      0.333                 0.295                NA 2018 Western Europe\n```\n:::\n\n```{.r .cell-code}\n# Save the updated combined dataset\nwrite.csv(cl_2018, 'data/happiness_2018_clean.csv', row.names = FALSE)\n\n\n#2019\n\n\ncl_2019 <- read.csv('data/cleaned_2019_df.csv')\n\ncl_2019 <- cl_2019 %>% \n                 left_join(country_region_map, by = \"Country\")\n#cl_2019 <- cl_2019 %>% select(-1)\nhead(cl_2019)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  Happiness.Rank     Country Happiness.Score Economy Family Health Freedom\n1              1     Finland           7.769   1.340  1.587  0.986   0.596\n2              2     Denmark           7.600   1.383  1.573  0.996   0.592\n3              3      Norway           7.554   1.488  1.582  1.028   0.603\n4              4     Iceland           7.494   1.380  1.624  1.026   0.591\n5              5 Netherlands           7.488   1.396  1.522  0.999   0.557\n6              6 Switzerland           7.480   1.452  1.526  1.052   0.572\n  Generosity Government.Corruption Dystopia.Residual Year         Region\n1      0.153                 0.393                NA 2019 Western Europe\n2      0.252                 0.410                NA 2019 Western Europe\n3      0.271                 0.341                NA 2019 Western Europe\n4      0.354                 0.118                NA 2019 Western Europe\n5      0.322                 0.298                NA 2019 Western Europe\n6      0.263                 0.343                NA 2019 Western Europe\n```\n:::\n\n```{.r .cell-code}\n# Save the updated combined dataset\nwrite.csv(cl_2019, 'data/happiness_2019_clean.csv', row.names = FALSE)\n\n#2020\n\n\n\ncl_2020 <- read.csv('data/cleaned_2020_df.csv')\n\ncl_2020 <- cl_2020 %>% \n                 left_join(country_region_map, by = \"Country\")\n#cl_2020 <- cl_2020 %>% select(-1)\nhead(cl_2020)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n      Country Happiness.Rank Happiness.Score  Economy   Family    Health\n1     Finland              1          7.8087 1.285190 1.499526 0.9612714\n2     Denmark              2          7.6456 1.326949 1.503449 0.9793326\n3 Switzerland              3          7.5599 1.390774 1.472403 1.0405332\n4     Iceland              4          7.5045 1.326502 1.547567 1.0008434\n5      Norway              5          7.4880 1.424207 1.495173 1.0080719\n6 Netherlands              6          7.4489 1.338946 1.463646 0.9756753\n    Freedom Generosity Government.Corruption Dystopia.Residual Year\n1 0.6623167  0.1596704             0.4778573          2.762835 2020\n2 0.6650399  0.2427934             0.4952603          2.432741 2020\n3 0.6289545  0.2690558             0.4079459          2.350267 2020\n4 0.6619807  0.3623302             0.1445408          2.460688 2020\n5 0.6702009  0.2879851             0.4341006          2.168266 2020\n6 0.6136265  0.3363176             0.3685698          2.352117 2020\n          Region\n1 Western Europe\n2 Western Europe\n3 Western Europe\n4 Western Europe\n5 Western Europe\n6 Western Europe\n```\n:::\n\n```{.r .cell-code}\n# Save the updated combined dataset\nwrite.csv(cl_2020, 'data/happiness_2020_clean.csv', row.names = FALSE)\n\n\n#2021\n\n\ncl_2021 <- read.csv('data/cleaned_2021_df.csv')\n\ncl_2021 <- cl_2021 %>% \n                 left_join(country_region_map, by = \"Country\")\n#cl_2021 <- cl_2021 %>% select(-1)\nhead(cl_2021)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n      Country Happiness.Rank Happiness.Score Economy Family Health Freedom\n1     Finland              1           7.842   1.446  1.106  0.741   0.691\n2     Denmark              2           7.620   1.502  1.108  0.763   0.686\n3 Switzerland              3           7.571   1.566  1.079  0.816   0.653\n4     Iceland              4           7.554   1.482  1.172  0.772   0.698\n5 Netherlands              5           7.464   1.501  1.079  0.753   0.647\n6      Norway              6           7.392   1.543  1.108  0.782   0.703\n  Generosity Government.Corruption Dystopia.Residual Year         Region\n1      0.124                 0.481             3.253 2021 Western Europe\n2      0.208                 0.485             2.868 2021 Western Europe\n3      0.204                 0.413             2.839 2021 Western Europe\n4      0.293                 0.170             2.967 2021 Western Europe\n5      0.302                 0.384             2.798 2021 Western Europe\n6      0.249                 0.427             2.580 2021 Western Europe\n```\n:::\n\n```{.r .cell-code}\n# Save the updated combined dataset\nwrite.csv(cl_2021, 'data/happiness_2021_clean.csv', row.names = FALSE)\n\n#2022\n\ncl_2022 <- read.csv('data/cleaned_2022_df.csv')\n\ncl_2022 <- cl_2022 %>% \n                 left_join(country_region_map, by = \"Country\")\n#cl_2022 <- cl_2022 %>% select(-1)\nhead(cl_2022)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  Happiness.Rank     Country Happiness.Score Dystopia.Residual Economy Family\n1              1     Finland           7.821             2.518   1.892  1.258\n2              2     Denmark           7.636             2.226   1.953  1.243\n3              3     Iceland           7.557             2.320   1.936  1.320\n4              4 Switzerland           7.512             2.153   2.026  1.226\n5              5 Netherlands           7.415             2.137   1.945  1.206\n6              6 Luxembourg*           7.404             2.042   2.209  1.155\n  Health Freedom Generosity Government.Corruption Year         Region\n1  0.775   0.736      0.109                 0.534 2022 Western Europe\n2  0.777   0.719      0.188                 0.532 2022 Western Europe\n3  0.803   0.718      0.270                 0.191 2022 Western Europe\n4  0.822   0.677      0.147                 0.461 2022 Western Europe\n5  0.787   0.651      0.271                 0.419 2022 Western Europe\n6  0.790   0.700      0.120                 0.388 2022           <NA>\n```\n:::\n\n```{.r .cell-code}\n# Save the updated combined dataset\nwrite.csv(cl_2022, 'data/happiness_2022_clean.csv', row.names = FALSE)\n\n\n#2023\n\n\ncl_2023 <- read.csv('data/cleaned_2023_df.csv')\n\ncl_2023 <- cl_2023 %>% \n                 left_join(country_region_map, by = \"Country\")\n#cl_2023 <- cl_2023 %>% select(-1)\nhead(cl_2023)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n      Country Happiness.Rank Happiness.Score Economy Family Health Freedom\n1     Finland              1           7.804   1.888  1.585  0.535   0.772\n2     Denmark              2           7.586   1.949  1.548  0.537   0.734\n3     Iceland              3           7.530   1.926  1.620  0.559   0.738\n4      Israel              4           7.473   1.833  1.521  0.577   0.569\n5 Netherlands              5           7.403   1.942  1.488  0.545   0.672\n6      Sweden              6           7.395   1.921  1.510  0.562   0.754\n  Generosity Government.Corruption Dystopia.Residual Year\n1      0.126                 0.535             2.363 2023\n2      0.208                 0.525             2.084 2023\n3      0.250                 0.187             2.250 2023\n4      0.124                 0.158             2.691 2023\n5      0.251                 0.394             2.110 2023\n6      0.225                 0.520             1.903 2023\n                           Region\n1                  Western Europe\n2                  Western Europe\n3                  Western Europe\n4 Middle East and Northern Africa\n5                  Western Europe\n6                  Western Europe\n```\n:::\n\n```{.r .cell-code}\n# Save the updated combined dataset\nwrite.csv(cl_2023, 'data/happiness_2023_clean.csv', row.names = FALSE)\n```\n:::\n\n\n# Question 1: Aspects influencing well-being over time.\n\n## Introduction\n\n### How do various factors impact the overall happiness score across different countries over the years?\n\nWe explore the complex interactions between many elements that affect general well-being in our quest to comprehend happiness on a global scale. We seek to understand how factors, such as economic stability, family support, health, freedom, trust in society, and generosity, affect the overall happiness scores throughout time and in different nations. By enabling users to interact with the data, this exploration reveals the complex connections between these important variables and the pursuit of happiness as a group.\n\nIn our pursuit to understand happiness on a global scale, we delve into the intricate interplay of diverse factors that contribute to overall well-being. By examining economic stability, family support, health, freedom, trust in society, and generosity, we aim to discern how these facets influence the overarching happiness scores across different countries and over time. This exploration empowers users to interactively engage with data, unraveling the intricate relationship between these pivotal factors and the collective pursuit of happiness.\n\n## Approach\n\nIn our interactive Shiny application, we offer users an intuitive platform for dynamic data exploration. Featuring three dropdown menus for the x-axis, y-axis, and country selection (allowing multi-country selection), alongside nine buttons for years spanning from 2015 to 2023, users can precisely pinpoint specific years for analysis. Additionally, a slider facilitates the selection of the number of countries to display.\n\nThe heart of the app resides in the 'Plot' tab, where users can select any two factors, including the happiness score, for the x and y axes. Each selection generates a data point on the graph, and upon hovering over these points, Plotly provides detailed insights related to the chosen factors and countries. This setup grants users the power to delve into individual factor analyses and country comparisons, fostering a deeper understanding of the data dynamics.\n\n## Analysis\n\n## Discussion\n\n# Question 2: Patterns of change in happiness scores related to global events.\n\nFrom 2015 to 2023, a series of major global events significantly impacted the happiness scores of various countries. These events, ranging from economic crises to geopolitical conflicts and health emergencies, have caused notable fluctuations in global happiness levels. In this brief introduction, we will list some of these key events and identify the countries most affected by them.\n\n## **Major Events Affecting Happiness Scores (2015-2023):**\n\n### **2015-2016 European Refugee Crisis:** \n\nPrimarily impacted countries in Europe, especially Germany, Sweden, Italy, and Greece, as they faced social and economic challenges due to a significant influx of refugees.\n\n![Plot representing the effect of European Refugee Crisis on happiness ranking](images/European Refugee Crisis.png){fig-align=\"center\" width=\"515\"}\n\nThe graph showcases the Happiness Rank Trends for Germany, Greece, Italy, and Sweden from 2015 to 2023. In the plot, each vertical line represents a year from 2015 to 2023, and the points on those lines indicate the happiness ranks of Greece, Italy, Germany, and Sweden for that particular year, ordered from highest rank (most unhappy) to lowest rank (happiest).\n\nFrom the graph, we can discern the following insights about the happiness ranks of Greece, Italy, Germany, and Sweden from 2015 to 2023:\n\n-    Greece consistently has the highest happiness rank (indicating lower happiness) among the four countries throughout the period, reflecting its economic and social challenges.\n\n-   Italy is positioned between Greece and the other two countries, suggesting it has faced issues that have affected its happiness, but not to the extent of Greece.\n\n-   Germany ranks better in happiness than Greece and Italy, possibly due to its stronger economy and social support systems.\n\n-   Sweden maintains the lowest happiness rank (indicating higher happiness) across the years, likely reflecting its high living standards and robust welfare system.\n\nThe order of countries by happiness rank does not change over the years, suggesting stable relative happiness levels despite the refugee crisis and other global events.\n\n### **2016 Brexit Vote:** \n\nThe United Kingdom experienced political and economic uncertainty, affecting its happiness scores, as well as indirect impacts on EU member states.\n\n![Brexit Vote affecting happiness score in UK](images/Uk_2016.png){fig-align=\"center\" width=\"521\"}\n\nIn 2016, the graph shows that the happiness rank for the United Kingdom increased, indicating a decrease in happiness. This is likely due to the uncertainty and division caused by the Brexit vote, as it introduced concerns about the UK's economic future and its citizens' identity within Europe. Such socio-political events typically create anxiety and can negatively impact the overall mood of the nation.\n\n### **2017-2018 US-China Trade War:** \n\nLed to economic repercussions in the United States and China, as well as in countries with strong trade ties to these nations.\n\n![US_China Trade War](images/china, US trade war.png){fig-align=\"center\" width=\"521\"}\n\nThe 2017-2018 US-China trade war had a significant impact on the happiness ranks of both countries. It led to economic uncertainties, job losses, and disrupted trade, which can contribute to decreased happiness among the population. The trade war also affected global economic stability, indirectly influencing happiness ranks in other nations closely tied to the US-China trade relationship.\n\n### **2019-2023 COVID-19 Pandemic:** \n\nGlobally affected all countries, with significant impacts on mental health, economic stability, and overall happiness. Countries like Italy, Spain, the United States, Brazil, and India were among the hardest hit due to high infection and mortality rates.\n\n![Covid-19 effect on happiness rank](images/Covid_19.png){fig-align=\"center\" width=\"521\"}\n\nThe graph indicates a general increase in happiness rank for most regions during the COVID-19 pandemic, suggesting a decline in happiness. Some regions show recovery post-pandemic, while others continue to experience lower happiness levels, with varying impacts across different parts of the world.\n\n### **2020 Beirut Explosion:** \n\nLebanon faced a substantial decline in happiness due to the devastating explosion in Beirut, compounding existing economic and political crises.\n\n![Beirut Explosion effect on happiness rank](images/lebanon.png){fig-align=\"center\" width=\"521\"}\n\nThe graph displays the trend in Lebanon's happiness rank from 2015 to 2023. In 2020, there is a noticeable increase in Lebanon's happiness rank, which indicates a decrease in happiness, coinciding with the Beirut explosion. This tragic event, along with ongoing economic and political issues, likely contributed to a sharp decline in the well-being and perceived happiness of the Lebanese population.\n\n### **2021 Myanmar Military Coup:** \n\nLed to political unrest and human rights issues in Myanmar, affecting the country's overall happiness and stability.\n\n![Myanmar military coup affecting happiness rank](images/myanmar.png){fig-align=\"center\" width=\"512\"}\n\nIn 2020-2021, Myanmar experienced a military coup that led to political unrest and widespread protests, which negatively impacted the country's happiness rank due to increased instability and human rights issues.\n\n### **2022 Pakistan Floods**: \n\nHeavy monsoon rains led to catastrophic flooding in Pakistan, causing massive displacement and damage to infrastructure and potentially affecting the happiness rank.\n\n![Pakistan floods affecting happiness rank](images/pakistan.png){fig-align=\"center\" width=\"512\"}\n\nIn 2022, Pakistan experienced a significant increase in its happiness rank, signifying a decrease in happiness. This was likely influenced by catastrophic flooding caused by heavy monsoon rains, resulting in displacement and infrastructure damage, which typically lowers overall happiness.\n\n### **2023 Global Economic Slowdown:** \n\nAffecting various countries differently, but particularly impacting nations with less economic resilience, leading to increased unemployment and social discontent.\n\n![Global Economic Slowdown affecting happiness rank](images/globaltrends_2023.png){fig-align=\"center\" width=\"512\"}\n\nVarious countries across the world were impacted. Specifically, countries highly dependent on international trade and with less economic resilience might have experienced greater economic challenges. For instance, countries in Southeast Asia, Latin America, and parts of Africa could have been particularly affected due to disruptions in global supply chains and reduced economic activity. Based on the plot above, Afghanistan seems to be the most affected country.\n\nThese events, among others, have played a crucial role in shaping the happiness and well-being of populations across different nations, reflecting the intricate relationship between global events and individual happiness.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}